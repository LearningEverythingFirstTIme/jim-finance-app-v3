import { c as create_ssr_component } from "../../../chunks/ssr.js";
import "../../../chunks/supabase.js";
const css = {
  code: ".add-btn.svelte-hkgn01.svelte-hkgn01{width:100%;margin-bottom:1rem}.add-form.svelte-hkgn01.svelte-hkgn01{margin-bottom:1.5rem}.add-form.svelte-hkgn01 h3.svelte-hkgn01{margin-top:0}.bills-list.svelte-hkgn01.svelte-hkgn01{display:flex;flex-direction:column;gap:0.75rem}.bill-card.svelte-hkgn01.svelte-hkgn01{background-color:#1e293b;border-radius:0.75rem;padding:1rem;border-left:4px solid #3b82f6}.bill-card.inactive.svelte-hkgn01.svelte-hkgn01{opacity:0.6;border-left-color:#64748b}.bill-header.svelte-hkgn01.svelte-hkgn01{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:0.75rem}.bill-title.svelte-hkgn01.svelte-hkgn01{display:flex;align-items:center;gap:0.75rem}.bill-icon.svelte-hkgn01.svelte-hkgn01{font-size:1.5rem}.bill-title.svelte-hkgn01 h4.svelte-hkgn01{margin:0;font-size:1rem}.bill-category.svelte-hkgn01.svelte-hkgn01{font-size:0.8rem;color:#94a3b8}.bill-amount.svelte-hkgn01.svelte-hkgn01{font-size:1.25rem;font-weight:700;color:#ef4444}.bill-footer.svelte-hkgn01.svelte-hkgn01{display:flex;justify-content:space-between;align-items:center;padding-top:0.75rem;border-top:1px solid #334155}.due-day.svelte-hkgn01.svelte-hkgn01{font-size:0.875rem;color:#94a3b8}.bill-actions.svelte-hkgn01.svelte-hkgn01{display:flex;align-items:center;gap:0.5rem}.toggle-btn.svelte-hkgn01.svelte-hkgn01{background:none;border:1px solid #334155;border-radius:0.375rem;padding:0.375rem 0.75rem;color:#94a3b8;cursor:pointer;font-size:0.8rem}.toggle-btn.active.svelte-hkgn01.svelte-hkgn01{border-color:#22c55e;color:#22c55e}.delete-btn.svelte-hkgn01.svelte-hkgn01{background:none;border:none;cursor:pointer;font-size:1.1rem;padding:0.25rem;opacity:0.7}.delete-confirm.svelte-hkgn01.svelte-hkgn01{display:flex;align-items:center;gap:0.5rem;font-size:0.875rem}.btn-sm.svelte-hkgn01.svelte-hkgn01{padding:0.25rem 0.5rem;font-size:0.75rem}",
  map: `{"version":3,"file":"+page.svelte","sources":["+page.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { onMount } from \\"svelte\\";\\nimport {\\n  getRecurringBills,\\n  addRecurringBill,\\n  toggleRecurringBill,\\n  deleteRecurringBill,\\n  getCategories\\n} from \\"$lib/api\\";\\nlet loading = true;\\nlet error = \\"\\";\\nlet bills = [];\\nlet categories = [];\\nlet showAddForm = false;\\nlet deleteConfirmId = null;\\nlet newName = \\"\\";\\nlet newAmount = \\"\\";\\nlet newDueDay = 1;\\nlet newCategoryId = null;\\nonMount(async () => {\\n  try {\\n    [bills, categories] = await Promise.all([\\n      getRecurringBills(),\\n      getCategories()\\n    ]);\\n    const expenseCats = categories.filter((c) => c.is_income === 0);\\n    if (expenseCats.length > 0) {\\n      newCategoryId = expenseCats[0].id;\\n    }\\n  } catch (e) {\\n    error = e.message;\\n  } finally {\\n    loading = false;\\n  }\\n});\\nfunction getCategory(id) {\\n  return categories.find((c) => c.id === id);\\n}\\nasync function handleAdd() {\\n  if (!newName || !newAmount || !newCategoryId) return;\\n  try {\\n    await addRecurringBill(\\n      newName,\\n      parseFloat(newAmount),\\n      newDueDay,\\n      newCategoryId\\n    );\\n    newName = \\"\\";\\n    newAmount = \\"\\";\\n    newDueDay = 1;\\n    showAddForm = false;\\n    bills = await getRecurringBills();\\n  } catch (e) {\\n    error = e.message;\\n  }\\n}\\nasync function handleToggle(bill) {\\n  try {\\n    await toggleRecurringBill(bill.id, bill.is_active === 0);\\n    bills = bills.map(\\n      (b) => b.id === bill.id ? { ...b, is_active: b.is_active === 0 ? 1 : 0 } : b\\n    );\\n  } catch (e) {\\n    error = e.message;\\n  }\\n}\\nasync function handleDelete(id) {\\n  try {\\n    await deleteRecurringBill(id);\\n    bills = bills.filter((b) => b.id !== id);\\n    deleteConfirmId = null;\\n  } catch (e) {\\n    error = e.message;\\n  }\\n}\\n<\/script>\\n\\n<svelte:head>\\n  <title>Recurring Bills - Jim's Finance Tracker</title>\\n</svelte:head>\\n\\n<div class=\\"page\\">\\n  <h1 class=\\"page-title\\">üîÑ Recurring Bills</h1>\\n  \\n  {#if loading}\\n    <div class=\\"loading\\">Loading bills...‚è≥</div>\\n  {:else if error}\\n    <div class=\\"error\\">{error}</div>\\n  {:else}\\n    <!-- Add Button -->\\n    <button class=\\"btn btn-primary add-btn\\" on:click={() => showAddForm = !showAddForm}>\\n      {showAddForm ? '‚úï Cancel' : '‚ûï Add New Bill'}\\n    </button>\\n    \\n    <!-- Add Form -->\\n    {#if showAddForm}\\n      <div class=\\"card add-form\\">\\n        <h3>Add New Bill</h3>\\n        \\n        <div class=\\"form-group\\">\\n          <label>Bill Name</label>\\n          <input\\n            type=\\"text\\"\\n            class=\\"input\\"\\n            bind:value={newName}\\n            placeholder=\\"e.g., Rent, Netflix\\"\\n          />\\n        </div>\\n        \\n        <div class=\\"form-row\\">\\n          <div class=\\"form-group\\">\\n            <label>Amount</label>\\n            <input\\n              type=\\"number\\"\\n              class=\\"input\\"\\n              bind:value={newAmount}\\n              placeholder=\\"0.00\\"\\n              step=\\"0.01\\"\\n              min=\\"0.01\\"\\n            />\\n          </div>\\n          \\n          <div class=\\"form-group\\">\\n            <label>Due Day (1-28)</label>\\n            <input\\n              type=\\"number\\"\\n              class=\\"input\\"\\n              bind:value={newDueDay}\\n              min=\\"1\\"\\n              max=\\"28\\"\\n            />\\n          </div>\\n        </div>\\n        \\n        <div class=\\"form-group\\">\\n          <label>Category</label>\\n          <select class=\\"input\\" bind:value={newCategoryId}>\\n            {#each categories.filter(c => c.is_income === 0) as cat}\\n              <option value={cat.id}>{cat.icon} {cat.name}</option>\\n            {/each}\\n          </select>\\n        </div>\\n        \\n        <button class=\\"btn btn-success\\" on:click={handleAdd} disabled={!newName || !newAmount}>\\n          Save Bill\\n        </button>\\n      </div>\\n    {/if}\\n    \\n    <!-- Bills List -->\\n    {#if bills.length === 0}\\n      <div class=\\"empty-state\\">No recurring bills yet. Add one above!</div>\\n    {:else}\\n      <div class=\\"bills-list\\">\\n        {#each bills as bill}\\n          {@const cat = getCategory(bill.category_id)}\\n          \\n          <div class=\\"bill-card\\" class:inactive={bill.is_active === 0}>\\n            <div class=\\"bill-header\\">\\n              <div class=\\"bill-title\\">\\n                <span class=\\"bill-icon\\">{cat?.icon || 'üì¶'}</span>\\n                <div>\\n                  <h4>{bill.name}</h4>\\n                  <span class=\\"bill-category\\">{cat?.name || 'Unknown'}</span>\\n                </div>\\n              </div>\\n              \\n              <div class=\\"bill-amount\\">\\n                \${bill.amount.toLocaleString('en-US', { minimumFractionDigits: 2 })}\\n              </div>\\n            </div>\\n            \\n            <div class=\\"bill-footer\\">\\n              <span class=\\"due-day\\">üìÖ Due on the {bill.due_day}{['st','nd','rd'][((bill.due_day+90)%100-10)%10-1]||'th'}</span>\\n              \\n              <div class=\\"bill-actions\\">\\n                <button \\n                  class=\\"toggle-btn\\"\\n                  class:active={bill.is_active === 1}\\n                  on:click={() => handleToggle(bill)}\\n                >\\n                  {bill.is_active === 1 ? '‚è∏Ô∏è Pause' : '‚ñ∂Ô∏è Resume'}\\n                </button>\\n                \\n                {#if deleteConfirmId === bill.id}\\n                  <div class=\\"delete-confirm\\">\\n                    <span>Delete?</span>\\n                    <button class=\\"btn btn-danger btn-sm\\" on:click={() => handleDelete(bill.id)}>Yes</button>\\n                    <button class=\\"btn btn-secondary btn-sm\\" on:click={() => deleteConfirmId = null}>No</button>\\n                  </div>\\n                {:else}\\n                  <button class=\\"delete-btn\\" on:click={() => deleteConfirmId = bill.id}>üóëÔ∏è</button>\\n                {/if}\\n              </div>\\n            </div>\\n          </div>\\n        {/each}\\n      </div>\\n    {/if}\\n  {/if}\\n</div>\\n\\n<style>\\n  .add-btn {\\n    width: 100%;\\n    margin-bottom: 1rem;\\n  }\\n  \\n  .add-form {\\n    margin-bottom: 1.5rem;\\n  }\\n  \\n  .add-form h3 {\\n    margin-top: 0;\\n  }\\n  \\n  .bills-list {\\n    display: flex;\\n    flex-direction: column;\\n    gap: 0.75rem;\\n  }\\n  \\n  .bill-card {\\n    background-color: #1e293b;\\n    border-radius: 0.75rem;\\n    padding: 1rem;\\n    border-left: 4px solid #3b82f6;\\n  }\\n  \\n  .bill-card.inactive {\\n    opacity: 0.6;\\n    border-left-color: #64748b;\\n  }\\n  \\n  .bill-header {\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: flex-start;\\n    margin-bottom: 0.75rem;\\n  }\\n  \\n  .bill-title {\\n    display: flex;\\n    align-items: center;\\n    gap: 0.75rem;\\n  }\\n  \\n  .bill-icon {\\n    font-size: 1.5rem;\\n  }\\n  \\n  .bill-title h4 {\\n    margin: 0;\\n    font-size: 1rem;\\n  }\\n  \\n  .bill-category {\\n    font-size: 0.8rem;\\n    color: #94a3b8;\\n  }\\n  \\n  .bill-amount {\\n    font-size: 1.25rem;\\n    font-weight: 700;\\n    color: #ef4444;\\n  }\\n  \\n  .bill-footer {\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n    padding-top: 0.75rem;\\n    border-top: 1px solid #334155;\\n  }\\n  \\n  .due-day {\\n    font-size: 0.875rem;\\n    color: #94a3b8;\\n  }\\n  \\n  .bill-actions {\\n    display: flex;\\n    align-items: center;\\n    gap: 0.5rem;\\n  }\\n  \\n  .toggle-btn {\\n    background: none;\\n    border: 1px solid #334155;\\n    border-radius: 0.375rem;\\n    padding: 0.375rem 0.75rem;\\n    color: #94a3b8;\\n    cursor: pointer;\\n    font-size: 0.8rem;\\n  }\\n  \\n  .toggle-btn.active {\\n    border-color: #22c55e;\\n    color: #22c55e;\\n  }\\n  \\n  .delete-btn {\\n    background: none;\\n    border: none;\\n    cursor: pointer;\\n    font-size: 1.1rem;\\n    padding: 0.25rem;\\n    opacity: 0.7;\\n  }\\n  \\n  .delete-confirm {\\n    display: flex;\\n    align-items: center;\\n    gap: 0.5rem;\\n    font-size: 0.875rem;\\n  }\\n  \\n  .btn-sm {\\n    padding: 0.25rem 0.5rem;\\n    font-size: 0.75rem;\\n  }\\n</style>\\n"],"names":[],"mappings":"AA0ME,oCAAS,CACP,KAAK,CAAE,IAAI,CACX,aAAa,CAAE,IACjB,CAEA,qCAAU,CACR,aAAa,CAAE,MACjB,CAEA,uBAAS,CAAC,gBAAG,CACX,UAAU,CAAE,CACd,CAEA,uCAAY,CACV,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,GAAG,CAAE,OACP,CAEA,sCAAW,CACT,gBAAgB,CAAE,OAAO,CACzB,aAAa,CAAE,OAAO,CACtB,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,GAAG,CAAC,KAAK,CAAC,OACzB,CAEA,UAAU,qCAAU,CAClB,OAAO,CAAE,GAAG,CACZ,iBAAiB,CAAE,OACrB,CAEA,wCAAa,CACX,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,aAAa,CAC9B,WAAW,CAAE,UAAU,CACvB,aAAa,CAAE,OACjB,CAEA,uCAAY,CACV,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,GAAG,CAAE,OACP,CAEA,sCAAW,CACT,SAAS,CAAE,MACb,CAEA,yBAAW,CAAC,gBAAG,CACb,MAAM,CAAE,CAAC,CACT,SAAS,CAAE,IACb,CAEA,0CAAe,CACb,SAAS,CAAE,MAAM,CACjB,KAAK,CAAE,OACT,CAEA,wCAAa,CACX,SAAS,CAAE,OAAO,CAClB,WAAW,CAAE,GAAG,CAChB,KAAK,CAAE,OACT,CAEA,wCAAa,CACX,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,aAAa,CAC9B,WAAW,CAAE,MAAM,CACnB,WAAW,CAAE,OAAO,CACpB,UAAU,CAAE,GAAG,CAAC,KAAK,CAAC,OACxB,CAEA,oCAAS,CACP,SAAS,CAAE,QAAQ,CACnB,KAAK,CAAE,OACT,CAEA,yCAAc,CACZ,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,GAAG,CAAE,MACP,CAEA,uCAAY,CACV,UAAU,CAAE,IAAI,CAChB,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CACzB,aAAa,CAAE,QAAQ,CACvB,OAAO,CAAE,QAAQ,CAAC,OAAO,CACzB,KAAK,CAAE,OAAO,CACd,MAAM,CAAE,OAAO,CACf,SAAS,CAAE,MACb,CAEA,WAAW,mCAAQ,CACjB,YAAY,CAAE,OAAO,CACrB,KAAK,CAAE,OACT,CAEA,uCAAY,CACV,UAAU,CAAE,IAAI,CAChB,MAAM,CAAE,IAAI,CACZ,MAAM,CAAE,OAAO,CACf,SAAS,CAAE,MAAM,CACjB,OAAO,CAAE,OAAO,CAChB,OAAO,CAAE,GACX,CAEA,2CAAgB,CACd,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,GAAG,CAAE,MAAM,CACX,SAAS,CAAE,QACb,CAEA,mCAAQ,CACN,OAAO,CAAE,OAAO,CAAC,MAAM,CACvB,SAAS,CAAE,OACb"}`
};
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  $$result.css.add(css);
  return `${$$result.head += `<!-- HEAD_svelte-1l2rqzv_START -->${$$result.title = `<title>Recurring Bills - Jim&#39;s Finance Tracker</title>`, ""}<!-- HEAD_svelte-1l2rqzv_END -->`, ""} <div class="page"><h1 class="page-title" data-svelte-h="svelte-16bpkfd">üîÑ Recurring Bills</h1> ${`<div class="loading" data-svelte-h="svelte-fvhrxi">Loading bills...‚è≥</div>`} </div>`;
});
export {
  Page as default
};
