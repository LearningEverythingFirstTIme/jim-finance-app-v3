import { c as create_ssr_component } from "../../../chunks/ssr.js";
import "@sveltejs/kit/internal";
import "../../../chunks/exports.js";
import "../../../chunks/utils.js";
import "@sveltejs/kit/internal/server";
import "../../../chunks/state.svelte.js";
import "../../../chunks/supabase.js";
const css = {
  code: '.type-selector.svelte-191k3ie{display:grid;grid-template-columns:1fr 1fr;gap:0.75rem}.type-btn.svelte-191k3ie{padding:1rem;border-radius:0.5rem;border:2px solid #334155;background-color:#0f172a;color:#94a3b8;font-size:1rem;cursor:pointer;transition:all 0.2s}.type-btn.active.svelte-191k3ie{border-color:#3b82f6;background-color:rgba(59, 130, 246, 0.1);color:#f8fafc}.success.svelte-191k3ie{background-color:rgba(34, 197, 94, 0.1);border:1px solid #22c55e;color:#22c55e;padding:1rem;border-radius:0.5rem;margin-bottom:1rem}button[type="submit"].svelte-191k3ie{width:100%;margin-top:1rem}',
  map: `{"version":3,"file":"+page.svelte","sources":["+page.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { onMount } from \\"svelte\\";\\nimport { goto } from \\"$app/navigation\\";\\nimport { addTransaction, getCategories } from \\"$lib/api\\";\\nlet loading = true;\\nlet saving = false;\\nlet error = \\"\\";\\nlet success = \\"\\";\\nlet date = (/* @__PURE__ */ new Date()).toISOString().split(\\"T\\")[0];\\nlet amount = \\"\\";\\nlet transactionType = \\"expense\\";\\nlet categoryId = null;\\nlet notes = \\"\\";\\nlet categories = [];\\nlet filteredCategories = [];\\n$: filteredCategories = categories.filter(\\n  (c) => transactionType === \\"income\\" ? c.is_income === 1 : c.is_income === 0\\n);\\n$: if (filteredCategories.length > 0 && !categoryId) {\\n  categoryId = filteredCategories[0].id;\\n}\\nonMount(async () => {\\n  try {\\n    categories = await getCategories();\\n  } catch (e) {\\n    error = e.message;\\n  } finally {\\n    loading = false;\\n  }\\n});\\nasync function handleSubmit() {\\n  if (!amount || !categoryId) return;\\n  saving = true;\\n  error = \\"\\";\\n  success = \\"\\";\\n  try {\\n    await addTransaction(\\n      date,\\n      parseFloat(amount),\\n      categoryId,\\n      transactionType,\\n      notes\\n    );\\n    success = \`Added \${transactionType}: $\${parseFloat(amount).toLocaleString(\\"en-US\\", { minimumFractionDigits: 2 })}\`;\\n    amount = \\"\\";\\n    notes = \\"\\";\\n    date = (/* @__PURE__ */ new Date()).toISOString().split(\\"T\\")[0];\\n    setTimeout(() => {\\n      goto(\\"/\\");\\n    }, 1500);\\n  } catch (e) {\\n    error = e.message;\\n  } finally {\\n    saving = false;\\n  }\\n}\\n<\/script>\\n\\n<svelte:head>\\n  <title>Add Transaction - Jim's Finance Tracker</title>\\n</svelte:head>\\n\\n<div class=\\"page\\">\\n  <h1 class=\\"page-title\\">‚ûï Add Transaction</h1>\\n  \\n  {#if loading}\\n    <div class=\\"loading\\">Loading...‚è≥</div>\\n  {:else}\\n    {#if error}\\n      <div class=\\"error\\">{error}</div>\\n    {/if}\\n    \\n    {#if success}\\n      <div class=\\"success\\">{success} ‚úÖ</div>\\n    {/if}\\n    \\n    <form on:submit|preventDefault={handleSubmit}>\\n      <div class=\\"form-group\\">\\n        <label>Transaction Type</label>\\n        <div class=\\"type-selector\\">\\n          <button\\n            type=\\"button\\"\\n            class=\\"type-btn\\"\\n            class:active={transactionType === 'expense'}\\n            on:click={() => transactionType = 'expense'}\\n          >\\n            üí∏ Expense\\n          </button>\\n          <button\\n            type=\\"button\\"\\n            class=\\"type-btn\\"\\n            class:active={transactionType === 'income'}\\n            on:click={() => transactionType = 'income'}\\n          >\\n            üíµ Income\\n          </button>\\n        </div>\\n      </div>\\n      \\n      <div class=\\"form-row\\">\\n        <div class=\\"form-group\\">\\n          <label for=\\"date\\">Date</label>\\n          <input\\n            id=\\"date\\"\\n            type=\\"date\\"\\n            class=\\"input\\"\\n            bind:value={date}\\n            required\\n          />\\n        </div>\\n        \\n        <div class=\\"form-group\\">\\n          <label for=\\"amount\\">Amount</label>\\n          <input\\n            id=\\"amount\\"\\n            type=\\"number\\"\\n            class=\\"input\\"\\n            bind:value={amount}\\n            placeholder=\\"0.00\\"\\n            step=\\"0.01\\"\\n            min=\\"0.01\\"\\n            required\\n          />\\n        </div>\\n      </div>\\n      \\n      <div class=\\"form-group\\">\\n        <label for=\\"category\\">Category</label>\\n        <select id=\\"category\\" class=\\"input\\" bind:value={categoryId} required>\\n          {#each filteredCategories as cat}\\n            <option value={cat.id}>{cat.icon} {cat.name}</option>\\n          {/each}\\n        </select>\\n      </div>\\n      \\n      <div class=\\"form-group\\">\\n        <label for=\\"notes\\">Notes (optional)</label>\\n        <input\\n          id=\\"notes\\"\\n          type=\\"text\\"\\n          class=\\"input\\"\\n          bind:value={notes}\\n          placeholder=\\"Add a note...\\"\\n        />\\n      </div>\\n      \\n      <button type=\\"submit\\" class=\\"btn btn-success\\" disabled={saving || !amount}>\\n        {saving ? 'Saving...' : '‚ûï Add Transaction'}\\n      </button>\\n    </form>\\n  {/if}\\n</div>\\n\\n<style>\\n  .type-selector {\\n    display: grid;\\n    grid-template-columns: 1fr 1fr;\\n    gap: 0.75rem;\\n  }\\n  \\n  .type-btn {\\n    padding: 1rem;\\n    border-radius: 0.5rem;\\n    border: 2px solid #334155;\\n    background-color: #0f172a;\\n    color: #94a3b8;\\n    font-size: 1rem;\\n    cursor: pointer;\\n    transition: all 0.2s;\\n  }\\n  \\n  .type-btn.active {\\n    border-color: #3b82f6;\\n    background-color: rgba(59, 130, 246, 0.1);\\n    color: #f8fafc;\\n  }\\n  \\n  .success {\\n    background-color: rgba(34, 197, 94, 0.1);\\n    border: 1px solid #22c55e;\\n    color: #22c55e;\\n    padding: 1rem;\\n    border-radius: 0.5rem;\\n    margin-bottom: 1rem;\\n  }\\n  \\n  button[type=\\"submit\\"] {\\n    width: 100%;\\n    margin-top: 1rem;\\n  }\\n</style>\\n"],"names":[],"mappings":"AAyJE,6BAAe,CACb,OAAO,CAAE,IAAI,CACb,qBAAqB,CAAE,GAAG,CAAC,GAAG,CAC9B,GAAG,CAAE,OACP,CAEA,wBAAU,CACR,OAAO,CAAE,IAAI,CACb,aAAa,CAAE,MAAM,CACrB,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CACzB,gBAAgB,CAAE,OAAO,CACzB,KAAK,CAAE,OAAO,CACd,SAAS,CAAE,IAAI,CACf,MAAM,CAAE,OAAO,CACf,UAAU,CAAE,GAAG,CAAC,IAClB,CAEA,SAAS,sBAAQ,CACf,YAAY,CAAE,OAAO,CACrB,gBAAgB,CAAE,KAAK,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CACzC,KAAK,CAAE,OACT,CAEA,uBAAS,CACP,gBAAgB,CAAE,KAAK,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CACxC,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CACzB,KAAK,CAAE,OAAO,CACd,OAAO,CAAE,IAAI,CACb,aAAa,CAAE,MAAM,CACrB,aAAa,CAAE,IACjB,CAEA,MAAM,CAAC,IAAI,CAAC,QAAQ,gBAAE,CACpB,KAAK,CAAE,IAAI,CACX,UAAU,CAAE,IACd"}`
};
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  (/* @__PURE__ */ new Date()).toISOString().split("T")[0];
  let categoryId = null;
  let categories = [];
  let filteredCategories = [];
  $$result.css.add(css);
  filteredCategories = categories.filter((c) => c.is_income === 0);
  {
    if (filteredCategories.length > 0 && !categoryId) {
      categoryId = filteredCategories[0].id;
    }
  }
  return `${$$result.head += `<!-- HEAD_svelte-eh2sz9_START -->${$$result.title = `<title>Add Transaction - Jim&#39;s Finance Tracker</title>`, ""}<!-- HEAD_svelte-eh2sz9_END -->`, ""} <div class="page"><h1 class="page-title" data-svelte-h="svelte-vt4bc7">‚ûï Add Transaction</h1> ${`<div class="loading" data-svelte-h="svelte-1407eg">Loading...‚è≥</div>`} </div>`;
});
export {
  Page as default
};
