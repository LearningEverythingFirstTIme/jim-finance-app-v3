import { c as create_ssr_component } from "../../../chunks/ssr.js";
import "../../../chunks/supabase.js";
const css = {
  code: ".transactions-list.svelte-g6dn91.svelte-g6dn91{display:flex;flex-direction:column;gap:0.75rem}.transaction-actions.svelte-g6dn91.svelte-g6dn91{display:flex;align-items:center;gap:0.75rem}.delete-btn.svelte-g6dn91.svelte-g6dn91{background:none;border:none;cursor:pointer;font-size:1.25rem;padding:0.25rem;opacity:0.7;transition:opacity 0.2s}.delete-btn.svelte-g6dn91.svelte-g6dn91:hover{opacity:1}.delete-confirm.svelte-g6dn91.svelte-g6dn91{display:flex;gap:0.25rem}.btn-sm.svelte-g6dn91.svelte-g6dn91{padding:0.25rem 0.5rem;font-size:0.875rem}.empty-state.svelte-g6dn91 a.svelte-g6dn91{color:#3b82f6;text-decoration:none}.empty-state.svelte-g6dn91 a.svelte-g6dn91:hover{text-decoration:underline}",
  map: `{"version":3,"file":"+page.svelte","sources":["+page.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { onMount } from \\"svelte\\";\\nimport { getTransactions, deleteTransaction, getCategories } from \\"$lib/api\\";\\nlet loading = true;\\nlet error = \\"\\";\\nlet transactions = [];\\nlet filteredTransactions = [];\\nlet categories = [];\\nlet filterType = \\"all\\";\\nlet filterMonth = \\"all\\";\\nlet deleteConfirmId = null;\\nconst months = Array.from({ length: 12 }, (_, i) => {\\n  const d = /* @__PURE__ */ new Date();\\n  d.setMonth(d.getMonth() - i);\\n  return {\\n    value: d.toISOString().slice(0, 7),\\n    label: d.toLocaleDateString(\\"en-US\\", { month: \\"long\\", year: \\"numeric\\" })\\n  };\\n});\\n$: {\\n  let filtered = transactions;\\n  if (filterType !== \\"all\\") {\\n    filtered = filtered.filter((t) => t.transaction_type === filterType);\\n  }\\n  if (filterMonth !== \\"all\\") {\\n    filtered = filtered.filter((t) => t.date.startsWith(filterMonth));\\n  }\\n  filteredTransactions = filtered;\\n}\\nonMount(async () => {\\n  try {\\n    [transactions, categories] = await Promise.all([\\n      getTransactions(200),\\n      getCategories()\\n    ]);\\n  } catch (e) {\\n    error = e.message;\\n  } finally {\\n    loading = false;\\n  }\\n});\\nfunction getCategory(id) {\\n  return categories.find((c) => c.id === id);\\n}\\nasync function handleDelete(id) {\\n  try {\\n    await deleteTransaction(id);\\n    transactions = transactions.filter((t) => t.id !== id);\\n    deleteConfirmId = null;\\n  } catch (e) {\\n    error = e.message;\\n  }\\n}\\nfunction formatDate(dateStr) {\\n  return new Date(dateStr).toLocaleDateString(\\"en-US\\", {\\n    month: \\"short\\",\\n    day: \\"numeric\\",\\n    year: \\"numeric\\"\\n  });\\n}\\n<\/script>\\n\\n<svelte:head>\\n  <title>Transactions - Jim's Finance Tracker</title>\\n</svelte:head>\\n\\n<div class=\\"page\\">\\n  <h1 class=\\"page-title\\">üìã Transactions</h1>\\n  \\n  {#if loading}\\n    <div class=\\"loading\\">Loading transactions...‚è≥</div>\\n  {:else if error}\\n    <div class=\\"error\\">{error}</div>\\n  {:else}\\n    <!-- Filters -->\\n    <div class=\\"filter-row\\">\\n      <select class=\\"input\\" bind:value={filterType}>\\n        <option value=\\"all\\">All Types</option>\\n        <option value=\\"income\\">üíµ Income</option>\\n        <option value=\\"expense\\">üí∏ Expense</option>\\n      </select>\\n      \\n      <select class=\\"input\\" bind:value={filterMonth}>\\n        <option value=\\"all\\">All Months</option>\\n        {#each months as month}\\n          <option value={month.value}>{month.label}</option>\\n        {/each}\\n      </select>\\n    </div>\\n    \\n    <!-- Transaction List -->\\n    {#if filteredTransactions.length === 0}\\n      <div class=\\"empty-state\\">\\n        No transactions found. <a href=\\"/add\\">Add one</a> to get started!\\n      </div>\\n    {:else}\\n      <div class=\\"transactions-list\\">\\n        {#each filteredTransactions as tx}\\n          {@const cat = getCategory(tx.category_id)}\\n          <div class=\\"transaction-item\\">\\n            <div class=\\"transaction-info\\">\\n              <div class=\\"transaction-icon\\">\\n                {cat?.icon || '‚ùì'}\\n              </div>\\n              <div class=\\"transaction-details\\">\\n                <h4>{cat?.name || 'Unknown'}</h4>\\n                <p>{formatDate(tx.date)}{#if tx.notes} ‚Ä¢ {tx.notes}{/if}</p>\\n              </div>\\n            </div>\\n            \\n            <div class=\\"transaction-actions\\">\\n              <span \\n                class=\\"transaction-amount\\"\\n                class:income={tx.transaction_type === 'income'}\\n                class:expense={tx.transaction_type === 'expense'}\\n              >\\n                {tx.transaction_type === 'income' ? '+' : '-'}\\n                \${tx.amount.toLocaleString('en-US', { minimumFractionDigits: 2 })}\\n              </span>\\n              \\n              {#if deleteConfirmId === tx.id}\\n                <div class=\\"delete-confirm\\">\\n                  <button class=\\"btn btn-danger btn-sm\\" on:click={() => handleDelete(tx.id)}>‚úì</button>\\n                  <button class=\\"btn btn-secondary btn-sm\\" on:click={() => deleteConfirmId = null}>‚úï</button>\\n                </div>\\n              {:else}\\n                <button class=\\"delete-btn\\" on:click={() => deleteConfirmId = tx.id}>üóëÔ∏è</button>\\n              {/if}\\n            </div>\\n          </div>\\n        {/each}\\n      </div>\\n    {/if}\\n  {/if}\\n</div>\\n\\n<style>\\n  .transactions-list {\\n    display: flex;\\n    flex-direction: column;\\n    gap: 0.75rem;\\n  }\\n  \\n  .transaction-actions {\\n    display: flex;\\n    align-items: center;\\n    gap: 0.75rem;\\n  }\\n  \\n  .delete-btn {\\n    background: none;\\n    border: none;\\n    cursor: pointer;\\n    font-size: 1.25rem;\\n    padding: 0.25rem;\\n    opacity: 0.7;\\n    transition: opacity 0.2s;\\n  }\\n  \\n  .delete-btn:hover {\\n    opacity: 1;\\n  }\\n  \\n  .delete-confirm {\\n    display: flex;\\n    gap: 0.25rem;\\n  }\\n  \\n  .btn-sm {\\n    padding: 0.25rem 0.5rem;\\n    font-size: 0.875rem;\\n  }\\n  \\n  .empty-state a {\\n    color: #3b82f6;\\n    text-decoration: none;\\n  }\\n  \\n  .empty-state a:hover {\\n    text-decoration: underline;\\n  }\\n</style>\\n"],"names":[],"mappings":"AAwIE,8CAAmB,CACjB,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,GAAG,CAAE,OACP,CAEA,gDAAqB,CACnB,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,GAAG,CAAE,OACP,CAEA,uCAAY,CACV,UAAU,CAAE,IAAI,CAChB,MAAM,CAAE,IAAI,CACZ,MAAM,CAAE,OAAO,CACf,SAAS,CAAE,OAAO,CAClB,OAAO,CAAE,OAAO,CAChB,OAAO,CAAE,GAAG,CACZ,UAAU,CAAE,OAAO,CAAC,IACtB,CAEA,uCAAW,MAAO,CAChB,OAAO,CAAE,CACX,CAEA,2CAAgB,CACd,OAAO,CAAE,IAAI,CACb,GAAG,CAAE,OACP,CAEA,mCAAQ,CACN,OAAO,CAAE,OAAO,CAAC,MAAM,CACvB,SAAS,CAAE,QACb,CAEA,0BAAY,CAAC,eAAE,CACb,KAAK,CAAE,OAAO,CACd,eAAe,CAAE,IACnB,CAEA,0BAAY,CAAC,eAAC,MAAO,CACnB,eAAe,CAAE,SACnB"}`
};
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  Array.from({ length: 12 }, (_, i) => {
    const d = /* @__PURE__ */ new Date();
    d.setMonth(d.getMonth() - i);
    return {
      value: d.toISOString().slice(0, 7),
      label: d.toLocaleDateString("en-US", { month: "long", year: "numeric" })
    };
  });
  $$result.css.add(css);
  return `${$$result.head += `<!-- HEAD_svelte-1ltto5v_START -->${$$result.title = `<title>Transactions - Jim&#39;s Finance Tracker</title>`, ""}<!-- HEAD_svelte-1ltto5v_END -->`, ""} <div class="page"><h1 class="page-title" data-svelte-h="svelte-r2zk82">üìã Transactions</h1> ${`<div class="loading" data-svelte-h="svelte-60y3fr">Loading transactions...‚è≥</div>`} </div>`;
});
export {
  Page as default
};
