import{s as we,n as Ee,o as Fe,r as Pe,a as ze}from"../chunks/DSOgNidj.js";import{S as Me,i as He,d as h,a as z,b as o,k as r,l as Re,g as T,c as d,e as k,m as P,j as I,h as p,n as Ue,o as je,p as Je,q as j,r as J,u as Ve,s as le,v as X,y as Ge,f as x,t as $}from"../chunks/BTTWjJDS.js";import{e as Se}from"../chunks/D6YF6ztN.js";import{g as Ke}from"../chunks/DfSwdc0w.js";import{g as Qe,e as We}from"../chunks/BlK5NUL5.js";function Ne(s,t,e){const l=s.slice();return l[18]=t[e],l}function Xe(s){let t,e,l,i,c,b,g="Transaction Type",u,a,f,L="ðŸ’¸ Expense",U,v,se="ðŸ’µ Income",ee,V,N,q,w,ne="Date",B,O,pe,M,G,Te="Amount",_e,D,he,H,K,Ie="Category",ve,A,me,R,Q,ke="Notes (optional)",be,S,ge,F,te=s[4]?"Saving...":"âž• Add Transaction",ae,oe,ye,De,C=s[5]&&qe(s),E=s[6]&&Be(s),Y=Se(s[2]),y=[];for(let n=0;n<Y.length;n+=1)y[n]=Oe(Ne(s,Y,n));return{c(){C&&C.c(),t=I(),E&&E.c(),e=I(),l=p("form"),i=p("div"),c=p("div"),b=p("label"),b.textContent=g,u=I(),a=p("div"),f=p("button"),f.textContent=L,U=I(),v=p("button"),v.textContent=se,ee=I(),V=p("div"),N=p("div"),q=p("div"),w=p("label"),w.textContent=ne,B=I(),O=p("input"),pe=I(),M=p("div"),G=p("label"),G.textContent=Te,_e=I(),D=p("input"),he=I(),H=p("div"),K=p("label"),K.textContent=Ie,ve=I(),A=p("select");for(let n=0;n<y.length;n+=1)y[n].c();me=I(),R=p("div"),Q=p("label"),Q.textContent=ke,be=I(),S=p("input"),ge=I(),F=p("button"),ae=$(te),this.h()},l(n){C&&C.l(n),t=T(n),E&&E.l(n),e=T(n),l=d(n,"FORM",{class:!0});var _=k(l);i=d(_,"DIV",{class:!0});var m=k(i);c=d(m,"DIV",{class:!0});var W=k(c);b=d(W,"LABEL",{"data-svelte-h":!0}),P(b)!=="svelte-zze3k8"&&(b.textContent=g),u=T(W),a=d(W,"DIV",{class:!0});var re=k(a);f=d(re,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),P(f)!=="svelte-41r5ui"&&(f.textContent=L),U=T(re),v=d(re,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),P(v)!=="svelte-1e7bdm0"&&(v.textContent=se),re.forEach(h),W.forEach(h),m.forEach(h),ee=T(_),V=d(_,"DIV",{class:!0});var Z=k(V);N=d(Z,"DIV",{class:!0});var ie=k(N);q=d(ie,"DIV",{class:!0});var ue=k(q);w=d(ue,"LABEL",{for:!0,"data-svelte-h":!0}),P(w)!=="svelte-mio0sa"&&(w.textContent=ne),B=T(ue),O=d(ue,"INPUT",{id:!0,type:!0,class:!0}),ue.forEach(h),pe=T(ie),M=d(ie,"DIV",{class:!0});var ce=k(M);G=d(ce,"LABEL",{for:!0,"data-svelte-h":!0}),P(G)!=="svelte-qrldfu"&&(G.textContent=Te),_e=T(ce),D=d(ce,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0,step:!0,min:!0}),ce.forEach(h),ie.forEach(h),he=T(Z),H=d(Z,"DIV",{class:!0});var fe=k(H);K=d(fe,"LABEL",{for:!0,"data-svelte-h":!0}),P(K)!=="svelte-4738v6"&&(K.textContent=Ie),ve=T(fe),A=d(fe,"SELECT",{id:!0,class:!0});var Le=k(A);for(let Ce=0;Ce<y.length;Ce+=1)y[Ce].l(Le);Le.forEach(h),fe.forEach(h),me=T(Z),R=d(Z,"DIV",{class:!0});var de=k(R);Q=d(de,"LABEL",{for:!0,"data-svelte-h":!0}),P(Q)!=="svelte-1n2iqo9"&&(Q.textContent=ke),be=T(de),S=d(de,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0}),de.forEach(h),Z.forEach(h),ge=T(_),F=d(_,"BUTTON",{type:!0,class:!0});var Ae=k(F);ae=x(Ae,te),Ae.forEach(h),_.forEach(h),this.h()},h(){r(f,"type","button"),r(f,"class","type-btn"),j(f,"active",s[0]==="expense"),j(f,"expense-type",s[0]==="expense"),r(v,"type","button"),r(v,"class","type-btn"),j(v,"active",s[0]==="income"),j(v,"income-type",s[0]==="income"),r(a,"class","type-selector"),r(c,"class","form-group"),r(i,"class","card"),r(w,"for","date"),r(O,"id","date"),r(O,"type","date"),r(O,"class","input"),O.required=!0,r(q,"class","form-group"),r(G,"for","amount"),r(D,"id","amount"),r(D,"type","number"),r(D,"class","input"),r(D,"placeholder","0.00"),r(D,"step","0.01"),r(D,"min","0.01"),D.required=!0,r(M,"class","form-group"),r(N,"class","form-row"),r(K,"for","category"),r(A,"id","category"),r(A,"class","input"),A.required=!0,s[1]===void 0&&ze(()=>s[16].call(A)),r(H,"class","form-group"),r(Q,"for","notes"),r(S,"id","notes"),r(S,"type","text"),r(S,"class","input"),r(S,"placeholder","Add a note..."),r(R,"class","form-group"),r(V,"class","card"),r(F,"type","submit"),r(F,"class","btn btn-success btn-lg svelte-bqo1yu"),F.disabled=oe=s[4]||!s[8],r(l,"class","animate-fade-in svelte-bqo1yu")},m(n,_){C&&C.m(n,_),z(n,t,_),E&&E.m(n,_),z(n,e,_),z(n,l,_),o(l,i),o(i,c),o(c,b),o(c,u),o(c,a),o(a,f),o(a,U),o(a,v),o(l,ee),o(l,V),o(V,N),o(N,q),o(q,w),o(q,B),o(q,O),J(O,s[7]),o(N,pe),o(N,M),o(M,G),o(M,_e),o(M,D),J(D,s[8]),o(V,he),o(V,H),o(H,K),o(H,ve),o(H,A);for(let m=0;m<y.length;m+=1)y[m]&&y[m].m(A,null);Ve(A,s[1],!0),o(V,me),o(V,R),o(R,Q),o(R,be),o(R,S),J(S,s[9]),o(l,ge),o(l,F),o(F,ae),ye||(De=[X(f,"click",s[12]),X(v,"click",s[13]),X(O,"input",s[14]),X(D,"input",s[15]),X(A,"change",s[16]),X(S,"input",s[17]),X(l,"submit",Ge(s[10]))],ye=!0)},p(n,_){if(n[5]?C?C.p(n,_):(C=qe(n),C.c(),C.m(t.parentNode,t)):C&&(C.d(1),C=null),n[6]?E?E.p(n,_):(E=Be(n),E.c(),E.m(e.parentNode,e)):E&&(E.d(1),E=null),_&1&&j(f,"active",n[0]==="expense"),_&1&&j(f,"expense-type",n[0]==="expense"),_&1&&j(v,"active",n[0]==="income"),_&1&&j(v,"income-type",n[0]==="income"),_&128&&J(O,n[7]),_&256&&Ue(D.value)!==n[8]&&J(D,n[8]),_&4){Y=Se(n[2]);let m;for(m=0;m<Y.length;m+=1){const W=Ne(n,Y,m);y[m]?y[m].p(W,_):(y[m]=Oe(W),y[m].c(),y[m].m(A,null))}for(;m<y.length;m+=1)y[m].d(1);y.length=Y.length}_&6&&Ve(A,n[1]),_&512&&S.value!==n[9]&&J(S,n[9]),_&16&&te!==(te=n[4]?"Saving...":"âž• Add Transaction")&&le(ae,te),_&272&&oe!==(oe=n[4]||!n[8])&&(F.disabled=oe)},d(n){n&&(h(t),h(e),h(l)),C&&C.d(n),E&&E.d(n),Je(y,n),ye=!1,Pe(De)}}}function Ye(s){let t,e="Loading...";return{c(){t=p("div"),t.textContent=e,this.h()},l(l){t=d(l,"DIV",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-1f5y80z"&&(t.textContent=e),this.h()},h(){r(t,"class","loading")},m(l,i){z(l,t,i)},p:Ee,d(l){l&&h(t)}}}function qe(s){let t,e;return{c(){t=p("div"),e=$(s[5]),this.h()},l(l){t=d(l,"DIV",{class:!0});var i=k(t);e=x(i,s[5]),i.forEach(h),this.h()},h(){r(t,"class","error")},m(l,i){z(l,t,i),o(t,e)},p(l,i){i&32&&le(e,l[5])},d(l){l&&h(t)}}}function Be(s){let t,e,l;return{c(){t=p("div"),e=$(s[6]),l=$(" âœ…"),this.h()},l(i){t=d(i,"DIV",{class:!0});var c=k(t);e=x(c,s[6]),l=x(c," âœ…"),c.forEach(h),this.h()},h(){r(t,"class","success")},m(i,c){z(i,t,c),o(t,e),o(t,l)},p(i,c){c&64&&le(e,i[6])},d(i){i&&h(t)}}}function Oe(s){let t,e=s[18].icon+"",l,i,c=s[18].name+"",b,g;return{c(){t=p("option"),l=$(e),i=I(),b=$(c),this.h()},l(u){t=d(u,"OPTION",{});var a=k(t);l=x(a,e),i=T(a),b=x(a,c),a.forEach(h),this.h()},h(){t.__value=g=s[18].id,J(t,t.__value)},m(u,a){z(u,t,a),o(t,l),o(t,i),o(t,b)},p(u,a){a&4&&e!==(e=u[18].icon+"")&&le(l,e),a&4&&c!==(c=u[18].name+"")&&le(b,c),a&4&&g!==(g=u[18].id)&&(t.__value=g,J(t,t.__value))},d(u){u&&h(t)}}}function Ze(s){let t,e,l,i='<h1 class="page-title">Add Transaction</h1> <p class="page-subtitle">Record a new income or expense</p>',c;function b(a,f){return a[3]?Ye:Xe}let g=b(s),u=g(s);return{c(){t=I(),e=p("div"),l=p("header"),l.innerHTML=i,c=I(),u.c(),this.h()},l(a){Re("svelte-bys65d",document.head).forEach(h),t=T(a),e=d(a,"DIV",{class:!0});var L=k(e);l=d(L,"HEADER",{class:!0,"data-svelte-h":!0}),P(l)!=="svelte-hztst1"&&(l.innerHTML=i),c=T(L),u.l(L),L.forEach(h),this.h()},h(){document.title="Add Transaction - Jim's Finance",r(l,"class","page-header"),r(e,"class","page")},m(a,f){z(a,t,f),z(a,e,f),o(e,l),o(e,c),u.m(e,null)},p(a,[f]){g===(g=b(a))&&u?u.p(a,f):(u.d(1),u=g(a),u&&(u.c(),u.m(e,null)))},i:Ee,o:Ee,d(a){a&&(h(t),h(e)),u.d()}}}function xe(s,t,e){let l=!0,i=!1,c="",b="",g=new Date().toISOString().split("T")[0],u="",a="expense",f=null,L="",U=[],v=[];Fe(async()=>{try{e(11,U=await Qe())}catch(B){e(5,c=B.message)}finally{e(3,l=!1)}});async function se(){if(!(!u||!f)){e(4,i=!0),e(5,c=""),e(6,b="");try{await We(g,parseFloat(u),f,a,L),e(6,b=`Added ${a}: $${parseFloat(u).toLocaleString("en-US",{minimumFractionDigits:2})}`),e(8,u=""),e(9,L=""),e(7,g=new Date().toISOString().split("T")[0]),setTimeout(()=>{Ke("/")},1200)}catch(B){e(5,c=B.message)}finally{e(4,i=!1)}}}const ee=()=>e(0,a="expense"),V=()=>e(0,a="income");function N(){g=this.value,e(7,g)}function q(){u=Ue(this.value),e(8,u)}function w(){f=je(this),e(1,f),e(2,v),e(11,U),e(0,a),e(2,v),e(11,U),e(0,a)}function ne(){L=this.value,e(9,L)}return s.$$.update=()=>{s.$$.dirty&2049&&e(2,v=U.filter(B=>a==="income"?B.is_income===1:B.is_income===0)),s.$$.dirty&6&&v.length>0&&!f&&e(1,f=v[0].id)},[a,f,v,l,i,c,b,g,u,L,se,U,ee,V,N,q,w,ne]}class nt extends Me{constructor(t){super(),He(this,t,xe,Ze,we,{})}}export{nt as component};
