import{s as Ue,n as fe,o as Le,r as Ae,a as Pe}from"../chunks/DSOgNidj.js";import{S as Re,i as Oe,d as h,a as P,b as o,k as d,l as qe,g as I,c as _,e as E,m as K,j as N,h as f,n as ve,o as je,s as X,f as q,t as j,v as $,w as Ee,p as Se,q as se,r as ye,u as _e}from"../chunks/BEA7QHMY.js";import{e as pe}from"../chunks/D6YF6ztN.js";import{c as De,g as Fe,t as ze,f as He,h as Je}from"../chunks/B0jSzsKY.js";function Ie(s,e,t){const l=s.slice();l[23]=e[t];const a=l[10](l[23].category_id);return l[24]=a,l}function Ne(s,e,t){const l=s.slice();return l[24]=e[t],l}function Me(s){let e,t=s[4]?"‚úï Cancel":"‚ûï Add New Bill",l,a,r,i,v,c,n=s[4]&&Be(s);function b(u,p){return u[2].length===0?Qe:Ke}let g=b(s),m=g(s);return{c(){e=f("button"),l=j(t),a=N(),n&&n.c(),r=N(),m.c(),i=Ee(),this.h()},l(u){e=_(u,"BUTTON",{class:!0});var p=E(e);l=q(p,t),p.forEach(h),a=I(u),n&&n.l(u),r=I(u),m.l(u),i=Ee(),this.h()},h(){d(e,"class","btn btn-primary add-btn svelte-hkgn01")},m(u,p){P(u,e,p),o(e,l),P(u,a,p),n&&n.m(u,p),P(u,r,p),m.m(u,p),P(u,i,p),v||(c=$(e,"click",s[14]),v=!0)},p(u,p){p&16&&t!==(t=u[4]?"‚úï Cancel":"‚ûï Add New Bill")&&X(l,t),u[4]?n?n.p(u,p):(n=Be(u),n.c(),n.m(r.parentNode,r)):n&&(n.d(1),n=null),g===(g=b(u))&&m?m.p(u,p):(m.d(1),m=g(u),m&&(m.c(),m.m(i.parentNode,i)))},d(u){u&&(h(e),h(a),h(r),h(i)),n&&n.d(u),m.d(u),v=!1,c()}}}function Ye(s){let e,t;return{c(){e=f("div"),t=j(s[1]),this.h()},l(l){e=_(l,"DIV",{class:!0});var a=E(e);t=q(a,s[1]),a.forEach(h),this.h()},h(){d(e,"class","error")},m(l,a){P(l,e,a),o(e,t)},p(l,a){a&2&&X(t,l[1])},d(l){l&&h(e)}}}function Ge(s){let e,t="Loading bills...‚è≥";return{c(){e=f("div"),e.textContent=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-fvhrxi"&&(e.textContent=t),this.h()},h(){d(e,"class","loading")},m(l,a){P(l,e,a)},p:fe,d(l){l&&h(e)}}}function Be(s){let e,t,l="Add New Bill",a,r,i,v="Bill Name",c,n,b,g,m,u,p="Amount",Q,A,F,R,O,ee="Due Day (1-28)",te,V,z,H,J,C="Category",D,U,ne,S,M,Z,le,re,x=pe(s[3].filter(we)),w=[];for(let k=0;k<x.length;k+=1)w[k]=Te(Ne(s,x,k));return{c(){e=f("div"),t=f("h3"),t.textContent=l,a=N(),r=f("div"),i=f("label"),i.textContent=v,c=N(),n=f("input"),b=N(),g=f("div"),m=f("div"),u=f("label"),u.textContent=p,Q=N(),A=f("input"),F=N(),R=f("div"),O=f("label"),O.textContent=ee,te=N(),V=f("input"),z=N(),H=f("div"),J=f("label"),J.textContent=C,D=N(),U=f("select");for(let k=0;k<w.length;k+=1)w[k].c();ne=N(),S=f("button"),M=j("Save Bill"),this.h()},l(k){e=_(k,"DIV",{class:!0});var B=E(e);t=_(B,"H3",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-1h5zlge"&&(t.textContent=l),a=I(B),r=_(B,"DIV",{class:!0});var y=E(r);i=_(y,"LABEL",{"data-svelte-h":!0}),K(i)!=="svelte-1l8q0rw"&&(i.textContent=v),c=I(y),n=_(y,"INPUT",{type:!0,class:!0,placeholder:!0}),y.forEach(h),b=I(B),g=_(B,"DIV",{class:!0});var G=E(g);m=_(G,"DIV",{class:!0});var L=E(m);u=_(L,"LABEL",{"data-svelte-h":!0}),K(u)!=="svelte-e9aisc"&&(u.textContent=p),Q=I(L),A=_(L,"INPUT",{type:!0,class:!0,placeholder:!0,step:!0,min:!0}),L.forEach(h),F=I(G),R=_(G,"DIV",{class:!0});var ae=E(R);O=_(ae,"LABEL",{"data-svelte-h":!0}),K(O)!=="svelte-tdya0h"&&(O.textContent=ee),te=I(ae),V=_(ae,"INPUT",{type:!0,class:!0,min:!0,max:!0}),ae.forEach(h),G.forEach(h),z=I(B),H=_(B,"DIV",{class:!0});var ie=E(H);J=_(ie,"LABEL",{"data-svelte-h":!0}),K(J)!=="svelte-17dydz4"&&(J.textContent=C),D=I(ie),U=_(ie,"SELECT",{class:!0});var Y=E(U);for(let W=0;W<w.length;W+=1)w[W].l(Y);Y.forEach(h),ie.forEach(h),ne=I(B),S=_(B,"BUTTON",{class:!0});var T=E(S);M=q(T,"Save Bill"),T.forEach(h),B.forEach(h),this.h()},h(){d(t,"class","svelte-hkgn01"),d(n,"type","text"),d(n,"class","input"),d(n,"placeholder","e.g., Rent, Netflix"),d(r,"class","form-group"),d(A,"type","number"),d(A,"class","input"),d(A,"placeholder","0.00"),d(A,"step","0.01"),d(A,"min","0.01"),d(m,"class","form-group"),d(V,"type","number"),d(V,"class","input"),d(V,"min","1"),d(V,"max","28"),d(R,"class","form-group"),d(g,"class","form-row"),d(U,"class","input"),s[9]===void 0&&Pe(()=>s[18].call(U)),d(H,"class","form-group"),d(S,"class","btn btn-success"),S.disabled=Z=!s[6]||!s[7],d(e,"class","card add-form svelte-hkgn01")},m(k,B){P(k,e,B),o(e,t),o(e,a),o(e,r),o(r,i),o(r,c),o(r,n),se(n,s[6]),o(e,b),o(e,g),o(g,m),o(m,u),o(m,Q),o(m,A),se(A,s[7]),o(g,F),o(g,R),o(R,O),o(R,te),o(R,V),se(V,s[8]),o(e,z),o(e,H),o(H,J),o(H,D),o(H,U);for(let y=0;y<w.length;y+=1)w[y]&&w[y].m(U,null);ye(U,s[9],!0),o(e,ne),o(e,S),o(S,M),le||(re=[$(n,"input",s[15]),$(A,"input",s[16]),$(V,"input",s[17]),$(U,"change",s[18]),$(S,"click",s[11])],le=!0)},p(k,B){if(B&64&&n.value!==k[6]&&se(n,k[6]),B&128&&ve(A.value)!==k[7]&&se(A,k[7]),B&256&&ve(V.value)!==k[8]&&se(V,k[8]),B&8){x=pe(k[3].filter(we));let y;for(y=0;y<x.length;y+=1){const G=Ne(k,x,y);w[y]?w[y].p(G,B):(w[y]=Te(G),w[y].c(),w[y].m(U,null))}for(;y<w.length;y+=1)w[y].d(1);w.length=x.length}B&520&&ye(U,k[9]),B&192&&Z!==(Z=!k[6]||!k[7])&&(S.disabled=Z)},d(k){k&&h(e),Se(w,k),le=!1,Ae(re)}}}function Te(s){let e,t=s[24].icon+"",l,a,r=s[24].name+"",i,v;return{c(){e=f("option"),l=j(t),a=N(),i=j(r),this.h()},l(c){e=_(c,"OPTION",{});var n=E(e);l=q(n,t),a=I(n),i=q(n,r),n.forEach(h),this.h()},h(){e.__value=v=s[24].id,se(e,e.__value)},m(c,n){P(c,e,n),o(e,l),o(e,a),o(e,i)},p(c,n){n&8&&t!==(t=c[24].icon+"")&&X(l,t),n&8&&r!==(r=c[24].name+"")&&X(i,r),n&8&&v!==(v=c[24].id)&&(e.__value=v,se(e,e.__value))},d(c){c&&h(e)}}}function Ke(s){let e,t=pe(s[2]),l=[];for(let a=0;a<t.length;a+=1)l[a]=Ve(Ie(s,t,a));return{c(){e=f("div");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=_(a,"DIV",{class:!0});var r=E(e);for(let i=0;i<l.length;i+=1)l[i].l(r);r.forEach(h),this.h()},h(){d(e,"class","bills-list svelte-hkgn01")},m(a,r){P(a,e,r);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(a,r){if(r&13348){t=pe(a[2]);let i;for(i=0;i<t.length;i+=1){const v=Ie(a,t,i);l[i]?l[i].p(v,r):(l[i]=Ve(v),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(a){a&&h(e),Se(l,a)}}}function Qe(s){let e,t="No recurring bills yet. Add one above!";return{c(){e=f("div"),e.textContent=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-a9v9fj"&&(e.textContent=t),this.h()},h(){d(e,"class","empty-state")},m(l,a){P(l,e,a)},p:fe,d(l){l&&h(e)}}}function We(s){let e,t="üóëÔ∏è",l,a;function r(){return s[22](s[23])}return{c(){e=f("button"),e.textContent=t,this.h()},l(i){e=_(i,"BUTTON",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-16ocjfj"&&(e.textContent=t),this.h()},h(){d(e,"class","delete-btn svelte-hkgn01")},m(i,v){P(i,e,v),l||(a=$(e,"click",r),l=!0)},p(i,v){s=i},d(i){i&&h(e),l=!1,a()}}}function Xe(s){let e,t,l="Delete?",a,r,i="Yes",v,c,n="No",b,g;function m(){return s[20](s[23])}return{c(){e=f("div"),t=f("span"),t.textContent=l,a=N(),r=f("button"),r.textContent=i,v=N(),c=f("button"),c.textContent=n,this.h()},l(u){e=_(u,"DIV",{class:!0});var p=E(e);t=_(p,"SPAN",{"data-svelte-h":!0}),K(t)!=="svelte-a76z62"&&(t.textContent=l),a=I(p),r=_(p,"BUTTON",{class:!0,"data-svelte-h":!0}),K(r)!=="svelte-vqv0qj"&&(r.textContent=i),v=I(p),c=_(p,"BUTTON",{class:!0,"data-svelte-h":!0}),K(c)!=="svelte-7mudte"&&(c.textContent=n),p.forEach(h),this.h()},h(){d(r,"class","btn btn-danger btn-sm svelte-hkgn01"),d(c,"class","btn btn-secondary btn-sm svelte-hkgn01"),d(e,"class","delete-confirm svelte-hkgn01")},m(u,p){P(u,e,p),o(e,t),o(e,a),o(e,r),o(e,v),o(e,c),b||(g=[$(r,"click",m),$(c,"click",s[21])],b=!0)},p(u,p){s=u},d(u){u&&h(e),b=!1,Ae(g)}}}function Ve(s){var ae,ie;let e,t,l,a,r=(((ae=s[24])==null?void 0:ae.icon)||"üì¶")+"",i,v,c,n,b=s[23].name+"",g,m,u,p=(((ie=s[24])==null?void 0:ie.name)||"Unknown")+"",Q,A,F,R,O=s[23].amount.toLocaleString("en-US",{minimumFractionDigits:2})+"",ee,te,V,z,H,J=s[23].due_day+"",C,D=(["st","nd","rd"][((s[23].due_day+90)%100-10)%10-1]||"th")+"",U,ne,S,M,Z=s[23].is_active===1?"‚è∏Ô∏è Pause":"‚ñ∂Ô∏è Resume",le,re,x,w,k;function B(){return s[19](s[23])}function y(Y,T){return Y[5]===Y[23].id?Xe:We}let G=y(s),L=G(s);return{c(){e=f("div"),t=f("div"),l=f("div"),a=f("span"),i=j(r),v=N(),c=f("div"),n=f("h4"),g=j(b),m=N(),u=f("span"),Q=j(p),A=N(),F=f("div"),R=j("$"),ee=j(O),te=N(),V=f("div"),z=f("span"),H=j("üìÖ Due on the "),C=j(J),U=j(D),ne=N(),S=f("div"),M=f("button"),le=j(Z),re=N(),L.c(),x=N(),this.h()},l(Y){e=_(Y,"DIV",{class:!0});var T=E(e);t=_(T,"DIV",{class:!0});var W=E(t);l=_(W,"DIV",{class:!0});var oe=E(l);a=_(oe,"SPAN",{class:!0});var ge=E(a);i=q(ge,r),ge.forEach(h),v=I(oe),c=_(oe,"DIV",{});var ce=E(c);n=_(ce,"H4",{class:!0});var be=E(n);g=q(be,b),be.forEach(h),m=I(ce),u=_(ce,"SPAN",{class:!0});var ke=E(u);Q=q(ke,p),ke.forEach(h),ce.forEach(h),oe.forEach(h),A=I(W),F=_(W,"DIV",{class:!0});var me=E(F);R=q(me,"$"),ee=q(me,O),me.forEach(h),W.forEach(h),te=I(T),V=_(T,"DIV",{class:!0});var ue=E(V);z=_(ue,"SPAN",{class:!0});var de=E(z);H=q(de,"üìÖ Due on the "),C=q(de,J),U=q(de,D),de.forEach(h),ne=I(ue),S=_(ue,"DIV",{class:!0});var he=E(S);M=_(he,"BUTTON",{class:!0});var Ce=E(M);le=q(Ce,Z),Ce.forEach(h),re=I(he),L.l(he),he.forEach(h),ue.forEach(h),x=I(T),T.forEach(h),this.h()},h(){d(a,"class","bill-icon svelte-hkgn01"),d(n,"class","svelte-hkgn01"),d(u,"class","bill-category svelte-hkgn01"),d(l,"class","bill-title svelte-hkgn01"),d(F,"class","bill-amount svelte-hkgn01"),d(t,"class","bill-header svelte-hkgn01"),d(z,"class","due-day svelte-hkgn01"),d(M,"class","toggle-btn svelte-hkgn01"),_e(M,"active",s[23].is_active===1),d(S,"class","bill-actions svelte-hkgn01"),d(V,"class","bill-footer svelte-hkgn01"),d(e,"class","bill-card svelte-hkgn01"),_e(e,"inactive",s[23].is_active===0)},m(Y,T){P(Y,e,T),o(e,t),o(t,l),o(l,a),o(a,i),o(l,v),o(l,c),o(c,n),o(n,g),o(c,m),o(c,u),o(u,Q),o(t,A),o(t,F),o(F,R),o(F,ee),o(e,te),o(e,V),o(V,z),o(z,H),o(z,C),o(z,U),o(V,ne),o(V,S),o(S,M),o(M,le),o(S,re),L.m(S,null),o(e,x),w||(k=$(M,"click",B),w=!0)},p(Y,T){var W,oe;s=Y,T&4&&r!==(r=(((W=s[24])==null?void 0:W.icon)||"üì¶")+"")&&X(i,r),T&4&&b!==(b=s[23].name+"")&&X(g,b),T&4&&p!==(p=(((oe=s[24])==null?void 0:oe.name)||"Unknown")+"")&&X(Q,p),T&4&&O!==(O=s[23].amount.toLocaleString("en-US",{minimumFractionDigits:2})+"")&&X(ee,O),T&4&&J!==(J=s[23].due_day+"")&&X(C,J),T&4&&D!==(D=(["st","nd","rd"][((s[23].due_day+90)%100-10)%10-1]||"th")+"")&&X(U,D),T&4&&Z!==(Z=s[23].is_active===1?"‚è∏Ô∏è Pause":"‚ñ∂Ô∏è Resume")&&X(le,Z),T&4&&_e(M,"active",s[23].is_active===1),G===(G=y(s))&&L?L.p(s,T):(L.d(1),L=G(s),L&&(L.c(),L.m(S,null))),T&4&&_e(e,"inactive",s[23].is_active===0)},d(Y){Y&&h(e),L.d(),w=!1,k()}}}function Ze(s){let e,t,l,a="üîÑ Recurring Bills",r;function i(n,b){return n[0]?Ge:n[1]?Ye:Me}let v=i(s),c=v(s);return{c(){e=N(),t=f("div"),l=f("h1"),l.textContent=a,r=N(),c.c(),this.h()},l(n){qe("svelte-1l2rqzv",document.head).forEach(h),e=I(n),t=_(n,"DIV",{class:!0});var g=E(t);l=_(g,"H1",{class:!0,"data-svelte-h":!0}),K(l)!=="svelte-16bpkfd"&&(l.textContent=a),r=I(g),c.l(g),g.forEach(h),this.h()},h(){document.title="Recurring Bills - Jim's Finance Tracker",d(l,"class","page-title"),d(t,"class","page")},m(n,b){P(n,e,b),P(n,t,b),o(t,l),o(t,r),c.m(t,null)},p(n,[b]){v===(v=i(n))&&c?c.p(n,b):(c.d(1),c=v(n),c&&(c.c(),c.m(t,null)))},i:fe,o:fe,d(n){n&&(h(e),h(t)),c.d()}}}const we=s=>s.is_income===0;function xe(s,e,t){let l=!0,a="",r=[],i=[],v=!1,c=null,n="",b="",g=1,m=null;Le(async()=>{try{t(2,[r,i]=await Promise.all([De(),Fe()]),r,t(3,i));const C=i.filter(D=>D.is_income===0);C.length>0&&t(9,m=C[0].id)}catch(C){t(1,a=C.message)}finally{t(0,l=!1)}});function u(C){return i.find(D=>D.id===C)}async function p(){if(!(!n||!b||!m))try{await Je(n,parseFloat(b),g,m),t(6,n=""),t(7,b=""),t(8,g=1),t(4,v=!1),t(2,r=await De())}catch(C){t(1,a=C.message)}}async function Q(C){try{await ze(C.id,C.is_active===0),t(2,r=r.map(D=>D.id===C.id?{...D,is_active:D.is_active===0?1:0}:D))}catch(D){t(1,a=D.message)}}async function A(C){try{await He(C),t(2,r=r.filter(D=>D.id!==C)),t(5,c=null)}catch(D){t(1,a=D.message)}}const F=()=>t(4,v=!v);function R(){n=this.value,t(6,n)}function O(){b=ve(this.value),t(7,b)}function ee(){g=ve(this.value),t(8,g)}function te(){m=je(this),t(9,m),t(3,i)}return[l,a,r,i,v,c,n,b,g,m,u,p,Q,A,F,R,O,ee,te,C=>Q(C),C=>A(C.id),()=>t(5,c=null),C=>t(5,c=C.id)]}class st extends Re{constructor(e){super(),Oe(this,e,xe,Ze,Ue,{})}}export{st as component};
