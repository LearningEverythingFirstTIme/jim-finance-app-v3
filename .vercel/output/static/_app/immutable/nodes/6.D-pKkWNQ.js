import{r as K}from"../chunks/2ufbmRRR.js";import{s as j}from"../chunks/_ZlARY2_.js";import{s as Q,n as J,r as X,o as Y}from"../chunks/DSOgNidj.js";import{S as Z,i as $,d as c,r as A,s as R,a as O,b as l,v as B,y as x,k as u,l as ee,g as S,c as p,e as y,m as H,f as W,j as M,h,t as G}from"../chunks/BTTWjJDS.js";import{g as N}from"../chunks/DfSwdc0w.js";const te=async()=>{const{data:{session:o}}=await j.auth.getSession();if(o)throw K(302,"/");return{}},de=Object.freeze(Object.defineProperty({__proto__:null,load:te},Symbol.toStringTag,{value:"Module"}));function U(o){let n,t;return{c(){n=h("div"),t=G(o[2]),this.h()},l(e){n=p(e,"DIV",{class:!0});var s=y(n);t=W(s,o[2]),s.forEach(c),this.h()},h(){u(n,"class","error")},m(e,s){O(e,n,s),l(n,t)},p(e,s){s&4&&R(t,e[2])},d(e){e&&c(n)}}}function se(o){let n,t,e,s,g='<div class="logo">ðŸ’°</div> <h1>Jim&#39;s Finance</h1> <p>Enter your password to continue</p>',I,b,r,m,v,k="Password",D,d,P,f,E=o[1]?"Signing in...":"Sign In",L,V,q,a=o[2]&&U(o);return{c(){n=M(),t=h("div"),e=h("div"),s=h("div"),s.innerHTML=g,I=M(),a&&a.c(),b=M(),r=h("form"),m=h("div"),v=h("label"),v.textContent=k,D=M(),d=h("input"),P=M(),f=h("button"),L=G(E),this.h()},l(i){ee("svelte-19iwguq",document.head).forEach(c),n=S(i),t=p(i,"DIV",{class:!0});var z=y(t);e=p(z,"DIV",{class:!0});var w=y(e);s=p(w,"DIV",{class:!0,"data-svelte-h":!0}),H(s)!=="svelte-ozyzfa"&&(s.innerHTML=g),I=S(w),a&&a.l(w),b=S(w),r=p(w,"FORM",{class:!0});var T=y(r);m=p(T,"DIV",{class:!0});var C=y(m);v=p(C,"LABEL",{for:!0,"data-svelte-h":!0}),H(v)!=="svelte-pepa0a"&&(v.textContent=k),D=S(C),d=p(C,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0}),C.forEach(c),P=S(T),f=p(T,"BUTTON",{type:!0,class:!0});var F=y(f);L=W(F,E),F.forEach(c),T.forEach(c),w.forEach(c),z.forEach(c),this.h()},h(){document.title="Sign In - Jim's Finance",u(s,"class","login-header"),u(v,"for","password"),u(d,"id","password"),u(d,"type","password"),u(d,"class","input"),u(d,"placeholder","â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"),d.required=!0,u(m,"class","form-group"),u(f,"type","submit"),u(f,"class","btn btn-primary btn-lg"),f.disabled=o[1],u(r,"class","login-form"),u(e,"class","login-container animate-fade-in"),u(t,"class","login-page")},m(i,_){O(i,n,_),O(i,t,_),l(t,e),l(e,s),l(e,I),a&&a.m(e,null),l(e,b),l(e,r),l(r,m),l(m,v),l(m,D),l(m,d),A(d,o[0]),l(r,P),l(r,f),l(f,L),V||(q=[B(d,"input",o[4]),B(r,"submit",x(o[3]))],V=!0)},p(i,[_]){i[2]?a?a.p(i,_):(a=U(i),a.c(),a.m(e,b)):a&&(a.d(1),a=null),_&1&&d.value!==i[0]&&A(d,i[0]),_&2&&E!==(E=i[1]?"Signing in...":"Sign In")&&R(L,E),_&2&&(f.disabled=i[1])},i:J,o:J,d(i){i&&(c(n),c(t)),a&&a.d(),V=!1,X(q)}}}const ae="jim@finance.app";function ne(o,n,t){let e="",s=!1,g="";Y(async()=>{const{data:{session:r}}=await j.auth.getSession();r&&N("/")});async function I(){t(1,s=!0),t(2,g="");const{error:r}=await j.auth.signInWithPassword({email:ae,password:e});r?t(2,g=r.message):N("/"),t(1,s=!1)}function b(){e=this.value,t(0,e)}return[e,s,g,I,b]}class ce extends Z{constructor(n){super(),$(this,n,ne,se,Q,{})}}export{ce as component,de as universal};
