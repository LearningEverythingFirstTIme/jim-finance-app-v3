import{s as Be,n as be,o as Oe,r as qe,a as Ue}from"../chunks/DSOgNidj.js";import{S as we,i as Fe,d as p,a as P,b as o,k as i,l as Pe,g as y,c as d,e as L,m as F,j as E,h as _,n as Ne,o as ze,p as Me,u as ue,q as H,r as Ie,s as ee,v as Q,x as je,f as X,t as Y}from"../chunks/BEA7QHMY.js";import{e as De}from"../chunks/D6YF6ztN.js";import{g as He}from"../chunks/D9W0EZNd.js";import{g as Je,e as Re}from"../chunks/BkX9Jbjf.js";function Le(s,t,e){const l=s.slice();return l[18]=t[e],l}function Ge(s){let t,e,l,u,c,T="Transaction Type",v,r,n,m="ðŸ’¸ Expense",I,b,q="ðŸ’µ Income",Z,N,B,U,te="Date",x,S,O,z,J,ge="Amount",ce,D,fe,M,R,Ce="Category",de,A,_e,j,G,ke="Notes (optional)",pe,V,he,w,$=s[4]?"Saving...":"âž• Add Transaction",le,se,ve,ye,C=s[5]&&Ae(s),k=s[6]&&Se(s),W=De(s[2]),g=[];for(let a=0;a<W.length;a+=1)g[a]=Ve(Le(s,W,a));return{c(){C&&C.c(),t=E(),k&&k.c(),e=E(),l=_("form"),u=_("div"),c=_("label"),c.textContent=T,v=E(),r=_("div"),n=_("button"),n.textContent=m,I=E(),b=_("button"),b.textContent=q,Z=E(),N=_("div"),B=_("div"),U=_("label"),U.textContent=te,x=E(),S=_("input"),O=E(),z=_("div"),J=_("label"),J.textContent=ge,ce=E(),D=_("input"),fe=E(),M=_("div"),R=_("label"),R.textContent=Ce,de=E(),A=_("select");for(let a=0;a<g.length;a+=1)g[a].c();_e=E(),j=_("div"),G=_("label"),G.textContent=ke,pe=E(),V=_("input"),he=E(),w=_("button"),le=Y($),this.h()},l(a){C&&C.l(a),t=y(a),k&&k.l(a),e=y(a),l=d(a,"FORM",{});var f=L(l);u=d(f,"DIV",{class:!0});var h=L(u);c=d(h,"LABEL",{"data-svelte-h":!0}),F(c)!=="svelte-zze3k8"&&(c.textContent=T),v=y(h),r=d(h,"DIV",{class:!0});var K=L(r);n=d(K,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),F(n)!=="svelte-55l5xt"&&(n.textContent=m),I=y(K),b=d(K,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),F(b)!=="svelte-ad6h49"&&(b.textContent=q),K.forEach(p),h.forEach(p),Z=y(f),N=d(f,"DIV",{class:!0});var ne=L(N);B=d(ne,"DIV",{class:!0});var ae=L(B);U=d(ae,"LABEL",{for:!0,"data-svelte-h":!0}),F(U)!=="svelte-mio0sa"&&(U.textContent=te),x=y(ae),S=d(ae,"INPUT",{id:!0,type:!0,class:!0}),ae.forEach(p),O=y(ne),z=d(ne,"DIV",{class:!0});var oe=L(z);J=d(oe,"LABEL",{for:!0,"data-svelte-h":!0}),F(J)!=="svelte-qrldfu"&&(J.textContent=ge),ce=y(oe),D=d(oe,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0,step:!0,min:!0}),oe.forEach(p),ne.forEach(p),fe=y(f),M=d(f,"DIV",{class:!0});var re=L(M);R=d(re,"LABEL",{for:!0,"data-svelte-h":!0}),F(R)!=="svelte-4738v6"&&(R.textContent=Ce),de=y(re),A=d(re,"SELECT",{id:!0,class:!0});var Ee=L(A);for(let me=0;me<g.length;me+=1)g[me].l(Ee);Ee.forEach(p),re.forEach(p),_e=y(f),j=d(f,"DIV",{class:!0});var ie=L(j);G=d(ie,"LABEL",{for:!0,"data-svelte-h":!0}),F(G)!=="svelte-1n2iqo9"&&(G.textContent=ke),pe=y(ie),V=d(ie,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0}),ie.forEach(p),he=y(f),w=d(f,"BUTTON",{type:!0,class:!0});var Te=L(w);le=X(Te,$),Te.forEach(p),f.forEach(p),this.h()},h(){i(n,"type","button"),i(n,"class","type-btn svelte-191k3ie"),ue(n,"active",s[0]==="expense"),i(b,"type","button"),i(b,"class","type-btn svelte-191k3ie"),ue(b,"active",s[0]==="income"),i(r,"class","type-selector svelte-191k3ie"),i(u,"class","form-group"),i(U,"for","date"),i(S,"id","date"),i(S,"type","date"),i(S,"class","input"),S.required=!0,i(B,"class","form-group"),i(J,"for","amount"),i(D,"id","amount"),i(D,"type","number"),i(D,"class","input"),i(D,"placeholder","0.00"),i(D,"step","0.01"),i(D,"min","0.01"),D.required=!0,i(z,"class","form-group"),i(N,"class","form-row"),i(R,"for","category"),i(A,"id","category"),i(A,"class","input"),A.required=!0,s[1]===void 0&&Ue(()=>s[16].call(A)),i(M,"class","form-group"),i(G,"for","notes"),i(V,"id","notes"),i(V,"type","text"),i(V,"class","input"),i(V,"placeholder","Add a note..."),i(j,"class","form-group"),i(w,"type","submit"),i(w,"class","btn btn-success svelte-191k3ie"),w.disabled=se=s[4]||!s[8]},m(a,f){C&&C.m(a,f),P(a,t,f),k&&k.m(a,f),P(a,e,f),P(a,l,f),o(l,u),o(u,c),o(u,v),o(u,r),o(r,n),o(r,I),o(r,b),o(l,Z),o(l,N),o(N,B),o(B,U),o(B,x),o(B,S),H(S,s[7]),o(N,O),o(N,z),o(z,J),o(z,ce),o(z,D),H(D,s[8]),o(l,fe),o(l,M),o(M,R),o(M,de),o(M,A);for(let h=0;h<g.length;h+=1)g[h]&&g[h].m(A,null);Ie(A,s[1],!0),o(l,_e),o(l,j),o(j,G),o(j,pe),o(j,V),H(V,s[9]),o(l,he),o(l,w),o(w,le),ve||(ye=[Q(n,"click",s[12]),Q(b,"click",s[13]),Q(S,"input",s[14]),Q(D,"input",s[15]),Q(A,"change",s[16]),Q(V,"input",s[17]),Q(l,"submit",je(s[10]))],ve=!0)},p(a,f){if(a[5]?C?C.p(a,f):(C=Ae(a),C.c(),C.m(t.parentNode,t)):C&&(C.d(1),C=null),a[6]?k?k.p(a,f):(k=Se(a),k.c(),k.m(e.parentNode,e)):k&&(k.d(1),k=null),f&1&&ue(n,"active",a[0]==="expense"),f&1&&ue(b,"active",a[0]==="income"),f&128&&H(S,a[7]),f&256&&Ne(D.value)!==a[8]&&H(D,a[8]),f&4){W=De(a[2]);let h;for(h=0;h<W.length;h+=1){const K=Le(a,W,h);g[h]?g[h].p(K,f):(g[h]=Ve(K),g[h].c(),g[h].m(A,null))}for(;h<g.length;h+=1)g[h].d(1);g.length=W.length}f&6&&Ie(A,a[1]),f&512&&V.value!==a[9]&&H(V,a[9]),f&16&&$!==($=a[4]?"Saving...":"âž• Add Transaction")&&ee(le,$),f&272&&se!==(se=a[4]||!a[8])&&(w.disabled=se)},d(a){a&&(p(t),p(e),p(l)),C&&C.d(a),k&&k.d(a),Me(g,a),ve=!1,qe(ye)}}}function Ke(s){let t,e="Loading...â³";return{c(){t=_("div"),t.textContent=e,this.h()},l(l){t=d(l,"DIV",{class:!0,"data-svelte-h":!0}),F(t)!=="svelte-1407eg"&&(t.textContent=e),this.h()},h(){i(t,"class","loading")},m(l,u){P(l,t,u)},p:be,d(l){l&&p(t)}}}function Ae(s){let t,e;return{c(){t=_("div"),e=Y(s[5]),this.h()},l(l){t=d(l,"DIV",{class:!0});var u=L(t);e=X(u,s[5]),u.forEach(p),this.h()},h(){i(t,"class","error")},m(l,u){P(l,t,u),o(t,e)},p(l,u){u&32&&ee(e,l[5])},d(l){l&&p(t)}}}function Se(s){let t,e,l;return{c(){t=_("div"),e=Y(s[6]),l=Y(" âœ…"),this.h()},l(u){t=d(u,"DIV",{class:!0});var c=L(t);e=X(c,s[6]),l=X(c," âœ…"),c.forEach(p),this.h()},h(){i(t,"class","success svelte-191k3ie")},m(u,c){P(u,t,c),o(t,e),o(t,l)},p(u,c){c&64&&ee(e,u[6])},d(u){u&&p(t)}}}function Ve(s){let t,e=s[18].icon+"",l,u,c=s[18].name+"",T,v;return{c(){t=_("option"),l=Y(e),u=E(),T=Y(c),this.h()},l(r){t=d(r,"OPTION",{});var n=L(t);l=X(n,e),u=y(n),T=X(n,c),n.forEach(p),this.h()},h(){t.__value=v=s[18].id,H(t,t.__value)},m(r,n){P(r,t,n),o(t,l),o(t,u),o(t,T)},p(r,n){n&4&&e!==(e=r[18].icon+"")&&ee(l,e),n&4&&c!==(c=r[18].name+"")&&ee(T,c),n&4&&v!==(v=r[18].id)&&(t.__value=v,H(t,t.__value))},d(r){r&&p(t)}}}function Qe(s){let t,e,l,u="âž• Add Transaction",c;function T(n,m){return n[3]?Ke:Ge}let v=T(s),r=v(s);return{c(){t=E(),e=_("div"),l=_("h1"),l.textContent=u,c=E(),r.c(),this.h()},l(n){Pe("svelte-eh2sz9",document.head).forEach(p),t=y(n),e=d(n,"DIV",{class:!0});var I=L(e);l=d(I,"H1",{class:!0,"data-svelte-h":!0}),F(l)!=="svelte-vt4bc7"&&(l.textContent=u),c=y(I),r.l(I),I.forEach(p),this.h()},h(){document.title="Add Transaction - Jim's Finance Tracker",i(l,"class","page-title"),i(e,"class","page")},m(n,m){P(n,t,m),P(n,e,m),o(e,l),o(e,c),r.m(e,null)},p(n,[m]){v===(v=T(n))&&r?r.p(n,m):(r.d(1),r=v(n),r&&(r.c(),r.m(e,null)))},i:be,o:be,d(n){n&&(p(t),p(e)),r.d()}}}function We(s,t,e){let l=!0,u=!1,c="",T="",v=new Date().toISOString().split("T")[0],r="",n="expense",m=null,I="",b=[],q=[];Oe(async()=>{try{e(11,b=await Je())}catch(O){e(5,c=O.message)}finally{e(3,l=!1)}});async function Z(){if(!(!r||!m)){e(4,u=!0),e(5,c=""),e(6,T="");try{await Re(v,parseFloat(r),m,n,I),e(6,T=`Added ${n}: $${parseFloat(r).toLocaleString("en-US",{minimumFractionDigits:2})}`),e(8,r=""),e(9,I=""),e(7,v=new Date().toISOString().split("T")[0]),setTimeout(()=>{He("/")},1500)}catch(O){e(5,c=O.message)}finally{e(4,u=!1)}}}const N=()=>e(0,n="expense"),B=()=>e(0,n="income");function U(){v=this.value,e(7,v)}function te(){r=Ne(this.value),e(8,r)}function x(){m=ze(this),e(1,m),e(2,q),e(11,b),e(0,n),e(2,q),e(11,b),e(0,n)}function S(){I=this.value,e(9,I)}return s.$$.update=()=>{s.$$.dirty&2049&&e(2,q=b.filter(O=>n==="income"?O.is_income===1:O.is_income===0)),s.$$.dirty&6&&q.length>0&&!m&&e(1,m=q[0].id)},[n,m,q,l,u,c,T,v,r,I,Z,b,N,B,U,te,x,S]}class et extends we{constructor(t){super(),Fe(this,t,We,Qe,Be,{})}}export{et as component};
